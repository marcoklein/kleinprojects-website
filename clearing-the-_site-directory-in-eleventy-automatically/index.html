


<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="/css/page.css">
    
    
    <title>Clearing the _site directory in Eleventy automatically | Kleinprojects</title>
    
    
  </head>
  <body>

<article>
  <h1 class="page-title">Clearing the _site directory in Eleventy automatically</h1>
  <div class="text-container">
    <p>If you want to ensure an always up to date version, with all files being removed you might want to clear your <code>_site</code> directory before each build. This needs no further packages then the already built in <a href="https://nodejs.org/api/fs.html">fs package</a> of node. The function `rmdirSync(folderPath, {recursive:true}) can accomplish excactly this.</p>
<p>Your .eleventy.js then looks like this:</p>
<pre><code class="language-javascript">const fs = require('fs');

// clear site on initial build
fs.rmdirSync('_site', {recursive: true});
console.log('Cleared _site folder');
</code></pre>
<blockquote>
<p>Note that we do not export a function as you would normally do it. This is, because we want to <strong>run the folder deletion only once per build or serve</strong>!</p>
</blockquote>
<p>That means, that this code does not block our subsequent building pipeline. However, when you run Eleventy with <code>eleventy serve</code> you might end up with unwanted files in the end. So always remember to run <code>eleventy build</code> before publishing your site and you will always get a clean version.</p>

  </div>
</article>


  </body>
</html>
